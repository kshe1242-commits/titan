<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="no-referrer" />
    <title>ì§„ê²©ì˜ ê±°ì¸ Special</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body,
      html {
        height: 100%;
        font-family: "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
        background: #000;
        color: #fff;
        scroll-behavior: smooth;
      }

      /* ë‚´ë¹„ê²Œì´ì…˜ */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        height: 80px;
        background: rgba(0, 0, 0, 0.85);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 80px;
        z-index: 1000;
        border-bottom: 2px solid #004a94;
      }
      .logo {
        font-size: 1.5rem;
        font-weight: 800;
        color: #fff;
        letter-spacing: -1px;
      }
      .logo span {
        color: #004a94;
      }
      .logo a {
        text-decoration: none;
        color: #fff;
        display: inline-block;
      }
      .logo a:hover {
        color: #004a94;
      }
      nav ul {
        display: flex;
        list-style: none;
      }
      nav ul li {
        margin-left: 40px;
      }
      nav ul li a {
        text-decoration: none;
        color: #fff;
        font-size: 1rem;
        font-weight: 500;
        transition: 0.3s;
      }
      nav ul li a:hover {
        color: #004a94;
      }

      /* ë©”ì¸ ë¹„ë””ì˜¤ ë°°ë„ˆ (ë³µêµ¬ ì™„ë£Œ!) */
      .video-banner {
        position: relative;
        width: 100%;
        height: 100vh;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .video-background img {
        position: absolute;
        top: 0;
        left: 0;
        object-fit: cover;
        width: 100%;
        height: 100%;
        opacity: 0.7;
      }
      .overlay-text {
        position: relative;
        text-align: center;
        z-index: 10;
      }
      .overlay-text h1 {
        font-size: 6rem;
        font-family: "Cinzel", serif;
        font-weight: 700;
        letter-spacing: 20px;
        margin-bottom: 15px;
        text-shadow: 4px 4px 15px rgba(0, 0, 0, 0.9);
      }
      .overlay-text p {
        font-size: 1.4rem;
        font-weight: 300;
        color: #ddd;
        letter-spacing: 3px;
      }

      /* ì„¹ì…˜ ê³µí†µ */
      section {
        padding: 120px 10% 80px;
        line-height: 1.6;
      }
      h2 {
        font-size: 2.5rem;
        border-left: 5px solid #004a94;
        padding-left: 20px;
        margin-bottom: 50px;
      }

      /* ===== ë³‘ê³¼ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ ë° ì• ë‹ˆë©”ì´ì…˜ ===== */
      .troop-list {
        display: flex;
        flex-direction: column;
        gap: 25px;
      }

      /* ğŸ’¡ ê³ ì •ëœ í‹€(Slot) ì• ë‹ˆë©”ì´ì…˜ ì„¤ì • */
      .troop-slot {
        opacity: 1;
        transform: translateY(0);
        transition: all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1); /* ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ê°ì† íš¨ê³¼ */
      }
      /* ìˆœìœ„ê°€ ë°”ë€” ë•Œ ìŠ¤ë¥´ë¥µ ì‚¬ë¼ì§€ëŠ” íš¨ê³¼ í´ë˜ìŠ¤ */
      .troop-slot.changing {
        opacity: 0;
        transform: translateY(30px);
      }

      .troop-card {
        display: flex;
        align-items: stretch;
        background: #111;
        border: 1px solid #222;
        border-radius: 12px;
        overflow: hidden;
        cursor: pointer;
        transition: 0.3s;
      }
      .troop-card:hover {
        border-color: #004a94;
        box-shadow: 0 8px 30px rgba(0, 74, 148, 0.3);
        transform: translateY(-3px);
      }

      /* ìˆœìœ„ ìŠ¤íŠ¸ë¼ì´í”„ */
      .rank-stripe {
        width: 65px;
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 5px;
      }
      .rank-stripe .rank-emoji {
        font-size: 1.8rem;
      }
      .rank-stripe .rank-num {
        font-size: 0.72rem;
        letter-spacing: 1px;
        font-weight: bold;
      }
      .rank-1 {
        background: linear-gradient(180deg, #b8860b, #ffd700);
        color: #000;
      }
      .rank-2 {
        background: linear-gradient(180deg, #777, #c0c0c0);
        color: #000;
      }
      .rank-3 {
        background: linear-gradient(180deg, #7a3b0e, #cd7f32);
        color: #fff;
      }
      .rank-4 {
        background: #1a1a1a;
        color: #555;
        border-right: 1px solid #2a2a2a;
      }

      /* ë³‘ê³¼ ì´ë¯¸ì§€ */
      .troop-img {
        width: 200px;
        flex-shrink: 0;
        overflow: hidden;
      }
      .troop-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: grayscale(40%);
        transition: 0.4s;
      }
      .troop-card:hover .troop-img img {
        filter: grayscale(0%);
        transform: scale(1.05);
      }

      /* ë³‘ê³¼ í…ìŠ¤íŠ¸ */
      .troop-info {
        flex: 1;
        padding: 28px 35px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 10px;
      }
      .troop-info h3 {
        font-size: 1.9rem;
        letter-spacing: 3px;
        color: #fff;
      }
      .troop-info p {
        font-size: 0.95rem;
        color: #999;
      }
      .views-badge {
        display: inline-block;
        width: fit-content;
        margin-top: 6px;
        padding: 6px 14px;
        background: rgba(0, 74, 148, 0.15);
        border: 1px solid #004a94;
        border-radius: 20px;
        font-size: 0.85rem;
        color: #5aabff;
        font-weight: bold;
      }

      /* ì˜¤ë¥¸ìª½ ìµœê³  ì¸ê¸° ìºë¦­í„° íŒ¨ë„ */
      .popular-panel {
        width: 220px;
        flex-shrink: 0;
        border-left: 1px solid #222;
        background: rgba(255, 255, 255, 0.02);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px 15px;
        gap: 10px;
        text-align: center;
      }
      .popular-label {
        font-size: 0.7rem;
        color: #ffd700;
        letter-spacing: 2px;
        padding-bottom: 10px;
        border-bottom: 1px solid #2a2a2a;
        width: 100%;
      }
      .popular-char-img {
        width: 85px;
        height: 85px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #004a94;
        box-shadow: 0 0 18px rgba(0, 74, 148, 0.5);
      }
      .popular-char-name {
        font-size: 0.95rem;
        font-weight: bold;
        color: #fff;
      }
      .popular-char-views {
        font-size: 0.75rem;
        color: #aaa;
      }
      .no-data {
        font-size: 0.8rem;
        color: #555;
        line-height: 1.7;
      }

      /* ===== ì„¸ê³„ê´€ (ë³µêµ¬ ì™„ë£Œ!) ===== */
      .World-views-item {
        display: flex;
        align-items: center;
        gap: 20px;
        padding: 20px 15px;
        border-bottom: 1px solid #222;
        cursor: pointer;
        transition: 0.3s;
      }
      .World-views-item:hover {
        background: #111;
        border-left: 4px solid #004a94;
        padding-left: 11px;
      }
      .year {
        width: 150px;
        font-weight: bold;
        color: #004a94;
        font-size: 1.4rem;
      }
      .photo-container {
        display: flex;
        gap: 15px;
        margin-top: 40px;
      }
      .photo-container img {
        width: calc(50% - 7px);
        height: 250px;
        object-fit: cover;
        border: 1px solid #333;
        border-radius: 6px;
      }
      .music-controls {
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 1000;
      }

      #music-btn {
        padding: 10px 20px;
        background: rgba(0, 0, 0, 0.7);
        color: bisque;
        border: 1px solid bisque;
        border-radius: 30px;
        cursor: pointer;
        transition: 0.3s;
      }

      #music-btn:hover {
        background: bisque;
        color: black;
      }
    </style>
  </head>

  <body>
    <div
      id="global-top-badge"
      style="
        position: fixed;
        bottom: 40px;
        right: 0; /* ğŸ’¡ ì˜¤ë¥¸ìª½ ì—¬ë°±ì„ 0ìœ¼ë¡œ ì¤˜ì„œ ë²½ì— ì™„ì „íˆ ë°€ì°©! */
        background: rgba(0, 0, 0, 0.85);
        border: 2px solid #ffd700;
        border-right: none; /* ğŸ’¡ ì˜¤ë¥¸ìª½ í…Œë‘ë¦¬ë¥¼ ì§€ì›Œì„œ ë²½ì—ì„œ íŠ€ì–´ë‚˜ì˜¨ ëŠë‚Œ ì£¼ê¸° */
        border-radius: 12px 0 0 12px; /* ğŸ’¡ ì™¼ìª½ ìœ„/ì•„ë˜ë§Œ ë‘¥ê¸€ê²Œ ê¹ê¸° */
        padding: 8px 12px; /* ğŸ’¡ ì•ˆìª½ ì—¬ë°± ìµœì†Œí™” */
        display: none;
        z-index: 9999;
        text-align: center;
        cursor: pointer;
        box-shadow: -3px 3px 10px rgba(255, 215, 0, 0.3); /* ğŸ’¡ ê·¸ë¦¼ìë¥¼ ì™¼ìª½ìœ¼ë¡œ ë¹¼ê¸° */
        transition: 0.3s;
      "
      onmouseover="this.style.transform = 'translateX(-5px)'"
      onmouseout="this.style.transform = 'translateX(0)'"
    >
      <div
        style="
          color: #ffd700;
          font-weight: bold;
          font-size: 0.65rem;
          margin-bottom: 4px;
        "
      >
        ğŸ”¥ í†µí•© 1ìœ„
      </div>
      <img
        id="top-char-img"
        src=""
        style="
          width: 40px;
          height: 40px;
          object-fit: cover;
          border-radius: 50%;
          border: 1.5px solid #fff;
          margin-bottom: 2px;
        "
      />
      <div
        id="top-char-name"
        style="
          color: #fff;
          font-size: 0.8rem;
          font-weight: bold;
          white-space: nowrap;
        "
      ></div>
      <div id="top-char-views" style="color: #aaa; font-size: 0.65rem"></div>
    </div>
    <nav>
      <div class="logo">
        <a href="#">Attack on titan Special<span></span></a>
      </div>
      <ul>
        <li><a href="#troop-mark">ë³‘ê³¼ ìˆœìœ„</a></li>
        <li><a href="./world.html">ì„¸ê³„ê´€</a></li>
      </ul>
    </nav>

    <div class="video-banner">
      <div class="video-background">
        <img
          src="https://blog.kakaocdn.net/dna/Sejgu/btr4tPBuS82/AAAAAAAAAAAAAAAAAAAAAO-__lUIYMORA7_zw8pkgePtVkRZFfXxEd3bRNZE-ahS/img.gif?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=Os7OKIDEpjX%2BiUj3eLfQDZ4k3TQ%3D"
        />
      </div>
      <div class="overlay-text">
        <h1>ATTACK ON TAITAN</h1>
        <p>ìµëª…ì œë³´: ê±°ì¸ ì¶œëª° ë° ë‚´ë¶€ ë°°ì‹ ì ì‹ ê³ </p>
      </div>
    </div>

    <section id="troop-mark">
      <h2>ì‹¤ì‹œê°„ ë³‘ê³¼ ì „íˆ¬ë ¥(ì¡°íšŒìˆ˜) ë­í‚¹</h2>

      <div class="troop-list" id="troop-list">
        <div class="troop-slot" id="slot-1" data-troop=""></div>
        <div class="troop-slot" id="slot-2" data-troop=""></div>
        <div class="troop-slot" id="slot-3" data-troop=""></div>
        <div class="troop-slot" id="slot-4" data-troop=""></div>
      </div>
    </section>

    <footer
      style="
        background: #000;
        padding: 40px;
        text-align: center;
        border-top: 1px solid #222;
        font-size: 0.9rem;
        color: #666;
      "
    >
      ì´ ì‚¬ì´íŠ¸ëŠ” ì¡°ì‚¬ë³‘ë‹¨ ì •ë³´ê³µê°œë²•ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤. ë³¸ë¶€ì¥: Elvin Smith
    </footer>

    <script src="../view.js"></script>

    <script>
      const TROOPS = [
        {
          name: "ì§„ê²©ì˜ ê±°ì¸",
          storageKey: "titanViews",
          detailUrl: "../titan/titan.html", // íŒŒì¼ê²½ë¡œ ì£¼ì˜!
          img: "../titanimg/ASD.jpg",
          desc: "ì•„í™‰ ê±°ì¸ì˜ í˜ì„ ë‹¤ë£¨ëŠ” ìë“¤",
        },
        {
          name: "ì¡°ì‚¬ë³‘ë‹¨",
          storageKey: "scoutViews",
          detailUrl: "../josa/scout.html",
          img: "https://i.namu.wiki/i/NLo4BSB9Wh6hr0swzcLdv5YZ5PvA3gbG5y-Knjv6r3A6ddmllw09NROTkaYmb_NNwEh0qI20QQiVu7u15N5hKMPPOtQL_6KIdMd7BSKmHXbADtvBYJ5Daf3o2PLG-jnSo4BsCKR8Pb8JhLleE7tLkw.webp",
          desc: "ë²½ ë°–ì˜ ìƒí™©ì„ ì¡°ì‚¬í•˜ê³  ì¸ë¥˜ì˜ ììœ ë¥¼ ë˜ì°¾ëŠ” ë¶€ëŒ€",
        },
        {
          name: "í—Œë³‘ë‹¨",
          storageKey: "militaryViews",
          detailUrl: "../hunbyeong/hunbyeong.html",
          img: "https://i.namu.wiki/i/aacs6oJMHR918ZcP5UToLwtFU7PaCKbeQ-KM-A_tLr6UKZqmR6-9vt3hXXmi_Mp9BU0paxyNeDFr_oOTfpLbXrgRyU2-JcOBpB4HnXUD0vZMirujocj5ZLUbr5WIsoISlh_nnVvsPYKNgtoU-OTlnw.webp",
          desc: "êµ­ì™•ì„ ë³´ìœ„í•˜ëŠ” ë²½ ì•ˆì˜ ì—˜ë¦¬íŠ¸ ì¹œìœ„ëŒ€",
        },
        {
          name: "ì£¼ë‘”ë³‘ë‹¨",
          storageKey: "garrisonViews",
          detailUrl: "../joodun/titan.html",
          img: "https://i.namu.wiki/i/C94RdgW7AX23llOkOzS0mU9vw0jzuvR8fUPzHWE0-69a43FsXERc2wA9pq71VFFlEd8al1dOpMS7peQYs2viDcNhfO4g8i8SPGA1W3Q_Pua2W3knrw1tgw8eUVgZUh8r1KTxLj4E-dSkocmRSR1xDw.webp",
          desc: "ë°©ë²½ ë‚´ ë„ì‹œì™€ ë§ˆì„ì˜ ì¹˜ì•ˆ ë° ë°©ì–´ë¥¼ ë‹´ë‹¹",
        },
      ];

      const RANKS = [
        { emoji: "ğŸ¥‡", label: "1ìœ„", cls: "rank-1" },
        { emoji: "ğŸ¥ˆ", label: "2ìœ„", cls: "rank-2" },
        { emoji: "ğŸ¥‰", label: "3ìœ„", cls: "rank-3" },
        { emoji: "4", label: "4ìœ„", cls: "rank-4" },
      ];

      function opendetail(url) {
        window.open(url, "_self");
      }
      function opendetail2(url) {
        window.open(url, "_blank");
      }

      // ğŸ’¡ [í•µì‹¬ ì—”ì§„] ë­í‚¹ì„ ê³„ì‚°í•˜ê³  ì• ë‹ˆë©”ì´ì…˜ê³¼ í•¨ê»˜ ê·¸ë ¤ì£¼ëŠ” í•¨ìˆ˜
      function applyRankings() {
        // 1. ê° ë³‘ê³¼ë³„ [ì´í•© ì¡°íšŒìˆ˜]ì™€ [ë¶€ëŒ€ ë‚´ 1ìœ„ ìºë¦­í„°] ë°ì´í„°ë¥¼ ìµœì‹ í™”
        TROOPS.forEach((t) => {
          t.totalViews = ViewManager.getTroopTotalViews(t.storageKey);
          t.topChar = ViewManager.getTroopTop1(t.storageKey);
        });

        // 2. ì´í•© ì¡°íšŒìˆ˜(totalViews)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 1ë“±ë¶€í„° 4ë“±ê¹Œì§€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
        const sortedTroops = [...TROOPS].sort(
          (a, b) => b.totalViews - a.totalViews,
        );

        // 3. ê³ ì •ëœ 1~4ìœ„ í‹€(Slot)ì— ë°ì´í„° ê½‚ì•„ë„£ê¸°
        sortedTroops.forEach((t, i) => {
          const slot = document.getElementById(`slot-${i + 1}`);
          const currentTroopName = slot.getAttribute("data-troop"); // í˜„ì¬ ì´ ìë¦¬ì— ìˆëŠ” ë¶€ëŒ€ ì´ë¦„

          // ë§Œì•½ ìˆœìœ„ê°€ ë°”ë€Œì–´ì„œ ìƒˆë¡œìš´ ë¶€ëŒ€ê°€ ë“¤ì–´ì™€ì•¼ í•œë‹¤ë©´? (ì• ë‹ˆë©”ì´ì…˜ ë°œë™!)
          if (currentTroopName !== t.name) {
            slot.classList.add("changing"); // ìŠ¤ë¥´ë¥µ ì•„ë˜ë¡œ ì‚¬ë¼ì§

            setTimeout(() => {
              renderSlotHTML(slot, t, i); // ì•ˆì˜ ë‚´ìš©ë¬¼ êµì²´
              slot.setAttribute("data-troop", t.name); // ëª…ì°° êµì²´
              slot.classList.remove("changing"); // ë‹¤ì‹œ ìŠ¤ë¥´ë¥µ ë– ì˜¤ë¦„
            }, 600); // CSSì˜ 0.6ì´ˆì™€ ì‹œê°„ ë§ì¶¤
          } else {
            // ìˆœìœ„ ë³€ë™ ì—†ì´ í´ë¦­ìˆ˜ë§Œ ì˜¬ëë‹¤ë©´ ì• ë‹ˆë©”ì´ì…˜ ì—†ì´ ìˆ«ìë§Œ ì¡°ìš©íˆ ë°”ê¿ˆ
            renderSlotHTML(slot, t, i);
          }
        });
      }

      // ì¹´ë“œ ì•ˆì˜ HTML êµ¬ì¡°ë¥¼ ê·¸ë ¤ì£¼ëŠ” í•¨ìˆ˜
      function renderSlotHTML(slot, t, index) {
        const r = RANKS[index];

        const panelHTML = t.topChar
          ? `<div class="popular-panel">
               <div class="popular-label">â­ ë¶€ëŒ€ ë‚´ ì—ì´ìŠ¤</div>
               <img class="popular-char-img" src="${t.topChar.img}" alt="${t.topChar.name}">
               <div class="popular-char-name">${t.topChar.name}</div>
               <div class="popular-char-views">ì¡°íšŒìˆ˜ ${t.topChar.count}íšŒ</div>
             </div>`
          : `<div class="popular-panel">
               <div class="popular-label">â­ ë¶€ëŒ€ ë‚´ ì—ì´ìŠ¤</div>
               <div class="no-data">ì•„ì§ ì¡°íšŒëœ<br>ê¸°ë¡ì´<br>ì—†ìŠµë‹ˆë‹¤.</div>
             </div>`;

        // ğŸ’¡ ì´í•© ì „íˆ¬ë ¥ í‘œì‹œ!
        const viewsBadge = `<span class="views-badge">ì „ì²´ ë¶€ëŒ€ì› í•©ì‚° ì „íˆ¬ë ¥: ${t.totalViews}</span>`;

        slot.innerHTML = `
          <div class="troop-card" onclick="opendetail('${t.detailUrl}')">
            <div class="rank-stripe ${r.cls}">
              <span class="rank-emoji">${r.emoji}</span>
              <span class="rank-num">${r.label}</span>
            </div>
            <div class="troop-img"><img src="${t.img}" alt="${t.name}"></div>
            <div class="troop-info">
              <h3>${t.name}</h3>
              <p>${t.desc}</p>
              ${viewsBadge}
            </div>
            ${panelHTML}
          </div>
        `;
      }

      // =========================================================
      // ğŸ’¡ [ìˆ˜ì •ë¨] ìŠ¤í¬ë¡¤ ê°ì§€ ë° í†µí•© 1ìœ„ ë±ƒì§€ í‘œì‹œ ë¡œì§
      // =========================================================

      let hasGlobalTopData = false; // 1ìœ„ ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ê¸°ì–µí•´ë‘ëŠ” ë³€ìˆ˜

      function renderGlobalBadge() {
        const topChar = ViewManager.getGlobalTop1([
          "militaryViews",
          "scoutViews",
          "garrisonViews",
        ]);
        if (topChar) {
          document.getElementById("top-char-img").src = topChar.img;
          document.getElementById("top-char-name").innerText = topChar.name;
          document.getElementById("top-char-views").innerText =
            `ì´ ì¡°íšŒìˆ˜: ${topChar.count}íšŒ`;

          const badge = document.getElementById("global-top-badge");
          badge.onclick = () => window.open(topChar.url, "_blank");

          hasGlobalTopData = true; // ë°ì´í„°ê°€ ì™„ë²½í•˜ê²Œ ì¤€ë¹„ë¨!

          // ë°ì´í„°ê°€ ê°±ì‹ ë  ë•Œë§ˆë‹¤ í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ í•œ ë²ˆ í™•ì¸í•©ë‹ˆë‹¤.
          checkScrollPosition();
        }
      }

      // ğŸ’¡ [í•µì‹¬] ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•´ì„œ ë±ƒì§€ë¥¼ ìˆ¨ê¸°ê±°ë‚˜ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜
      function checkScrollPosition() {
        const badge = document.getElementById("global-top-badge");

        if (hasGlobalTopData) {
          // window.innerHeight : í˜„ì¬ ë¸Œë¼ìš°ì € ì°½ì˜ ë†’ì´ (ì¦‰, ë¹„ë””ì˜¤ ë°°ë„ˆì˜ ë†’ì´)
          // ìŠ¤í¬ë¡¤ì„ ë¹„ë””ì˜¤ ë°°ë„ˆ ë†’ì´ì˜ ì ˆë°˜(0.5) ì´ìƒ ë‚´ë ¸ì„ ë•Œë§Œ ë±ƒì§€ë¥¼ ë„ì›ë‹ˆë‹¤!
          if (window.scrollY > window.innerHeight * 0.5) {
            badge.style.display = "block";
          } else {
            badge.style.display = "none"; // ë§¨ ìœ„ë¡œ ì˜¬ë¼ê°€ë©´ ë‹¤ì‹œ ìˆ¨ê¹€!
          }
        }
      }

      // ğŸ’¡ ë§ˆìš°ìŠ¤ íœ ì„ êµ´ë¦´ ë•Œë§ˆë‹¤ ìœ„ì¹˜ë¥¼ ê°ì‹œí•©ë‹ˆë‹¤.
      window.addEventListener("scroll", checkScrollPosition);

      // =========================================================
      // ì‹¤ì‹œê°„ ì—”ì§„ (ì´ ë¶€ë¶„ì€ ê¸°ì¡´ê³¼ ë™ì¼í•©ë‹ˆë‹¤)
      // =========================================================
      window.addEventListener("load", () => {
        applyRankings();
        renderGlobalBadge();

        setInterval(() => {
          applyRankings();
          renderGlobalBadge();
        }, 1500);
      });
      // ğŸ’¡ [ì‹¤ì‹œê°„ ê°ì§€ ì—”ì§„] í˜ì´ì§€ê°€ ì—´ë¦¬ë©´ ìµœì´ˆ 1ë²ˆ ì‹¤í–‰í•˜ê³ , ì´í›„ 1.5ì´ˆë§ˆë‹¤ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ìº”!
      window.addEventListener("load", () => {
        applyRankings();
        renderGlobalBadge();

        setInterval(() => {
          applyRankings();
          renderGlobalBadge();
        }, 1500); // 1.5ì´ˆë§ˆë‹¤ ìˆœìœ„ ë³€ë™ ê°ì§€ (F5 ëˆ„ë¥¼ í•„ìš” ì—†ìŒ!)
      });
      /* ëª©ë¡ ë³µê·€ */
      function goBack() {
        renderList();
        detailView.style.display = "none";
        listView.style.display = "block";

        // :bulb: ë‹¤ì‹œ ëª©ë¡ìœ¼ë¡œ ì˜¤ë©´ BGM ë³¼ë¥¨ ì›ë˜ëŒ€ë¡œ ë³µêµ¬
        const bgm = document.getElementById("bgm");
        if (bgm) bgm.volume = 1.0;
      }
      // BGM ì„¤ì •
      window.addEventListener("DOMContentLoaded", () => {
        const bgm = document.getElementById("bgm");
        const musicBtn = document.getElementById("music-btn");

        let isPlaying = false;

        musicBtn.addEventListener("click", () => {
          if (!isPlaying) {
            bgm
              .play()
              .then(() => {
                musicBtn.textContent = "ğŸ”‡ BGM OFF";
                isPlaying = true;
              })
              .catch((err) => {
                console.log("ì¬ìƒ ì‹¤íŒ¨:", err);
              });
          } else {
            bgm.pause();
            musicBtn.textContent = "ğŸ”Š BGM ON";
            isPlaying = false;
          }
        });
      });
    </script>
    <audio id="bgm" loop>
      <source src="../music/sim.mp3" type="audio/mpeg" />
      ë¸Œë¼ìš°ì €ê°€ ì˜¤ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    </audio>

    <div class="music-controls">
      <button id="music-btn" onclick="toggleMusic()">ğŸµ BGM ì¬ìƒ</button>
    </div>
  </body>
</html>
